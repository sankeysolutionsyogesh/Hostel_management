<ng-container *ngFor="let element of AnnouncementList;let i = index;">
  <div class="container">
  <form class="leave-form" #compliantForm="ngForm">
  <div class="title">
    <mat-checkbox
      class="example-margin"
      (change)="onCheckboxChange(compliantForm, i, $event)"
    [disabled]="!compliantForm.valid"
      [ngModel]="element?.checkbox? true : false"

      name="checkbox"
    >
      <h3>Annoucement No {{ i + 1}}</h3> </mat-checkbox>
  </div>

    <mat-form-field>
    <label for="subjectname">Subject Name</label>
    <input matInput type="text" id="subjectname" name="subjectname" [ngModel]="element.subjectname" required>
    <mat-error
      *ngIf="compliantForm.controls['subjectname']?.touched && compliantForm.controls['subjectname'].errors?.['required']">
      Subject is required.
    </mat-error>

  </mat-form-field>

  <div class="inner-dropdown">
    <mat-form-field>
      <label for="category">Category</label>
      <mat-select id="category" name="category" [ngModel]="element.category" required>
        <mat-option disabled selected value="">Select Category</mat-option>
        <mat-option value="noise">Noise Disturbance</mat-option>
        <mat-option value="maintenance">Maintenance Issue</mat-option>
        <mat-option value="facilities">Facilities Problem</mat-option>
      </mat-select>
      <mat-error
        *ngIf="compliantForm.controls['category']?.touched && compliantForm.controls['category'].errors?.['required']">
         Category is required.
      </mat-error>
    </mat-form-field>


    <mat-form-field>
      <label for="subjectype">Subject Type</label>
      <mat-select id="subjectype"  name="subjectype" [ngModel]="element.subjectype" required>
        <mat-option disabled selected value="">Select Subject Type</mat-option>
        <mat-option value="low">Low</mat-option>
        <mat-option value="moderate">Moderate</mat-option>
        <mat-option value="high">High</mat-option>
        <mat-option value="urgent">Urgent</mat-option>
      </mat-select>
      <mat-error
        *ngIf="compliantForm.controls['subjectype']?.touched && compliantForm.controls['subjectype'].errors?.['required']">
        Subject Type is required.
      </mat-error>
    </mat-form-field>

  </div>
</form>
  </div>
</ng-container>
